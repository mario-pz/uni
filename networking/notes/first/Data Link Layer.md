Υπεύθυνο για τη μεταφορά των datagrams 
από ένα κόμβο στο φυσικά γειτονικό του 
κόμβο σε μία ζεύξη.

Κάθε host έχει ένα interface ή chip (πχ 802.11) και υλοποιεί τα επίπεδα
ζεύξης και φυσικό επίπεδο.

Η πλευρά αποστολής ενθυλακώνει και προσθέτεις bits ελέγχου και η  άλλη πλευρά 
αναζητεί τα λάθοι και το μεταφέρει στο ανώτερο επίπεδο.

#### Πλαισίωση (framing), Πρόσβαση στη ζεύξη (link access)
- Ενθυλάκωση του datagram σε πλαίσιο, προσθήκη επικεφαλίδας, ουράς
- Πρόσβαση στο μέσο (medium access) αν είναι διαμοιραζόμενο
- “MAC” διευθύνσεις χρησιμοποιούνται στα frame headers για να ταυτοποιήσουν την πηγή και τον προορισμό.
• Διαφορετική από την IP διεύθυνση!

#### Αξιόπιστη μεταφορά μεταξύ γειτονικών κόμβων
- Σπάνια χρησιμοποιείται σε αξιόπιστα μέσα με χαμηλό ρυθμό λαθών

- Ασύρματες ζεύξεις: Υψηλοί ρυθμοί λαθών
	• Ε: Γιατί η αξιοπιστία επιχειρείται σε επίπεδο ζεύξης όταν υπάρχει και η end-end αξιοπιστία;

#### Έλεγχος ροής (flow control): 
Συνεννόηση μεταξύ γειτονικών κόμβων που συνομιλούν

#### Ανίχνευση σφαλμάτων: 
- Λάθη που προκαλούνται από την εξασθένηση του σήματος, θόρυβο. 
- Ο δέκτης ανιχνεύει την παρουσία λαθών: 
	• Ειδοποιεί τον αποστολέα για επανεκπομπή ή απορρίπτει απλά τα frames

### Διόρθωση σφαλμάτων: 
Ο δέκτης ταυτοποιεί και διορθώνει τα λάθη χωρίς να καταφύγει σε 
επανεκπομπή

### Half-duplex και Full-duplex
Με τη half duplex επικοινωνία, οι κόμβοι στα δύο άκρα εκπέμπουν αλλά 
όχι ταυτόχρονα σε αντίθεση με τη full-duplex επικοινωνία.

### Έλεγχος ισοτιμίας
![[parity_checking.png]]

#### Κυκλικός έλεγχος πλεονασμού (Cyclic Redundancy Check-CRC)

- Πολύ ισχυρή τεχνική ανίχνευσης σφαλμάτων
- Βλέπει τα data bits, D, ως ένα δυαδικό αριθμό
- Επιλέγει ένα γεννήτορα G με αριθμό bits r+1
- Ο στόχος: Επιλογή r CRC bits, R, έτσι ώστε
	-  <D,R> να διαιρείται τέλεια από το G (modulo 2) 
	- Ο δέκτης ξέρει το G, διαιρεί λοιπόν <D,R> με G.  Αν το υπόλοιπο δεν είναι μηδέν, τότε έχουμε ανίχνευση σφάλματος!

- Μπορεί να ανιχνεύσει όλα τα λάθη που συμβαίνουν κατά ριπές με αριθμό bits μικρότερο από r+1 bits
- Χρησιμοποιείται ευρέως στην πράξη (Ethernet, 802.11 WiFi, ATM)
- Διεθνή πρότυπα για γεννήτριες 8, 12, 16 & 32-bit
- GCRC-32  = 100000100110000010001110110110111

![[Pasted image 20230130170512.png]]
![[Pasted image 20230130170450.png]]

CSMA Collision Detection
Έυκολο σε ενσύρματα αλλά δύσκολο σε ασύρματα τοπικά δίκτυα λόγο των σημάτων που συντρίβονται

Βήματα αλγορίθμου
1. Περιμένει ένα διαθέσιμο NIC κανάλι και ξεκινάει την μετάδοση
2. Αν ανιχνεύσει άλλη μετάδοση κατά την αποστολή, ματαιώνει την αποστολή και στέλνει jam, διαφορετικά η μετάδοση τελειώνει με επιτυχία.
3. Αν γίνει ματαίωση το NIC εισέρχεται σε δυαδική υποχώρηση.
	- Επιλέγει έναν αριθμό Κ στην τύχη [0, (2^m)-1] και περιμένει K*512 bit χρόνο και επιστρέφει στο βήμα 2

Απόδοση

 * t prop = μέγιστη καθυστέρηση διάδοσης μεταξύ δύο 
κόμβων του δικτύου
* t trans = Χρόνος μετάδοσης του μέγιστου σε μέγεθος 
πλαισίου
![[Pasted image 20230130174652.png]]
* Η απόδοση (efficiency) τείνει στο 1 
	* Όσο t prop τείνει στο 0
	* Όσο  t trans τείνει στο άπειρο


MAC protocols με διαίρεση καναλιού:
- Μοιράζονται το κανάλι αποδοτικά και δίκαια στο 
μεγάλο φορτίο
- Μη αποδοτικά στο μικρό φορτίο: καθυστέρηση στην 
πρόσβαση του καναλιού, 1/N του ρυθμού δίνεται 
ακόμα και όταν ένας κόμβος είναι ενεργός!

MAC protocols με τυχαία πρόσβαση
- Αποδοτικά στο μικρό φορτίο: Ο κάθε κόμβος 
αξιοποιεί πλήρως το κανάλι
- Μεγάλο φορτίο: overhead λόγω των συγκρούσεων

Mac Taking turns protocol -> Hybrid Solution

polling: 
- Ο αφέντης κόμβος “προσκαλεί” τους σκλάβους να μεταδώσουν με τη σειρά
- Συνήθως χρησιμοποιείται με “χαζούς” σκλάβους

- Προβληματισμοί:
	- polling overhead 
	- καθυστέρηση
	- Απλό σημείο αποτυχίας 

Πέρασμα του token:
- To token ελέγχου περνά από τον ένα κόμβο στον επόμενο ακολουθιακά.
- Μήνυμα του token
- Προβληματισμοί:
	- token overhead
	- καθυστέρηση
	- Μοναδικό σημείο αποτυχίας - single point of failure

### Ethernet
- Δίαυλος - bus: Διάσημη μέχρι τα μέσα του ‘90
	- Όλοι οι κόμβοι στο ίδιο πεδίο συγκρούσεων (συγκρούονται μεταξύ τους)
- Αστέρας - star: κυριαρχεί σήμερα
	- Ενεργό switch στο κέντρο
	- Κάθε “ακτίνα” τρέχει (ξεχωριστό) πρωτόκολλο Ethernet (οι κόμβοι δεν συγκρούονται μεταξύ τους)

### Switch vs Router
- routers: network-layer 
συσκευές(εξετάζουν network-layer 
επικεφαλίδες)
- switches: link-layer συσκευές 
(εξετάζουν link-layer επικεφαλίδες)
Και τα δύο έχουν forwarding 
tables:
- routers: υπολογίζουν πίνακες 
χρησιμοποιώντας αλγόριθμους 
δρομολόγησης, IP διευθύνσεις
- switches: σχηματίζουν τον 
πίνακα προώθησης με τη χρήση 
της πλημμύρας, αυτομάθησης των 